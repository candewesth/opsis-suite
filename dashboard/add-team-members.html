<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Add Team Members - Opsis Suite</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, sans-serif;
            background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
            color: #1d1d1f;
            min-height: 100vh;
            position: relative;
            line-height: 1.6;
        }

        /* Background Pattern */
        body::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: 
                radial-gradient(circle at 20% 20%, rgba(32, 201, 151, 0.1) 0%, transparent 50%),
                radial-gradient(circle at 80% 20%, rgba(253, 126, 20, 0.1) 0%, transparent 50%),
                radial-gradient(circle at 20% 80%, rgba(102, 16, 242, 0.1) 0%, transparent 50%),
                radial-gradient(circle at 80% 80%, rgba(13, 202, 240, 0.1) 0%, transparent 50%);
            z-index: -1;
        }

        /* Main Container */
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 3rem 2rem;
        }

        .page-header {
            text-align: center;
            margin-bottom: 4rem;
        }

        .page-title {
            font-size: 3rem;
            font-weight: 700;
            background: linear-gradient(135deg, #20c997, #17a2b8);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 1rem;
            letter-spacing: -1px;
        }

        .page-subtitle {
            font-size: 1.2rem;
            color: #6c757d;
            max-width: 600px;
            margin: 0 auto;
        }

        /* Team Members Grid */
        .team-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(350px, 1fr));
            gap: 2rem;
            margin-bottom: 4rem;
        }

        .team-member-card {
            background: linear-gradient(135deg, #ffffff, #f8f9fa);
            border: 1px solid rgba(210, 210, 215, 0.3);
            border-radius: 32px;
            padding: 2.5rem;
            box-shadow: 0 10px 40px rgba(0,0,0,0.08);
            transition: all 0.4s ease;
            position: relative;
        }

        .team-member-card:hover {
            transform: translateY(-15px);
            box-shadow: 0 25px 80px rgba(0,0,0,0.15);
            background: white;
        }

        .member-header {
            display: flex;
            align-items: center;
            gap: 1.5rem;
            margin-bottom: 1.5rem;
        }

        .member-avatar {
            width: 80px;
            height: 80px;
            border-radius: 50%;
            background: linear-gradient(135deg, #20c997, #17a2b8);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2rem;
            font-weight: 700;
            color: white;
            box-shadow: 0 15px 40px rgba(32, 201, 151, 0.3);
        }

        .member-info h3 {
            font-size: 1.3rem;
            font-weight: 600;
            color: #1d1d1f;
            margin-bottom: 0.5rem;
        }

        .member-role {
            background: linear-gradient(135deg, #20c997, #17a2b8);
            color: white;
            padding: 0.4rem 1rem;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: 600;
            text-transform: uppercase;
            display: inline-block;
        }

        .member-details {
            margin-bottom: 1.5rem;
        }

        .detail-row {
            display: flex;
            justify-content: space-between;
            padding: 0.5rem 0;
            border-bottom: 1px solid rgba(210, 210, 215, 0.2);
        }

        .detail-label {
            font-weight: 600;
            color: #495057;
        }

        .detail-value {
            color: #6c757d;
        }

        .member-actions {
            display: flex;
            gap: 1rem;
            justify-content: center;
        }

        .btn {
            padding: 0.75rem 1.5rem;
            border-radius: 16px;
            border: none;
            cursor: pointer;
            font-weight: 600;
            font-size: 0.9rem;
            transition: all 0.3s ease;
            text-decoration: none;
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
        }

        .btn-primary {
            background: linear-gradient(135deg, #20c997, #17a2b8);
            color: white;
        }

        .btn-secondary {
            background: rgba(108, 117, 125, 0.1);
            color: #495057;
            border: 1px solid rgba(108, 117, 125, 0.3);
        }

        .btn-danger {
            background: linear-gradient(135deg, #dc3545, #c82333);
            color: white;
        }

        .btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 15px 40px rgba(0,0,0,0.15);
        }

        /* Add New Member Section */
        .add-member-section {
            background: linear-gradient(135deg, #ffffff, #f8f9fa);
            border: 1px solid rgba(210, 210, 215, 0.3);
            border-radius: 32px;
            padding: 3rem 2.5rem;
            box-shadow: 0 10px 40px rgba(0,0,0,0.08);
            margin-bottom: 3rem;
        }

        .section-title {
            font-size: 2rem;
            font-weight: 600;
            color: #1d1d1f;
            margin-bottom: 2rem;
            display: flex;
            align-items: center;
            gap: 1rem;
        }

        .section-icon {
            width: 60px;
            height: 60px;
            border-radius: 16px;
            background: linear-gradient(135deg, #20c997, #17a2b8);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.8rem;
            color: white;
            box-shadow: 0 15px 40px rgba(32, 201, 151, 0.3);
        }

        .form-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 2rem;
            margin-bottom: 3rem;
        }

        .form-group {
            display: flex;
            flex-direction: column;
        }

        .form-label {
            font-weight: 600;
            color: #495057;
            margin-bottom: 0.75rem;
            font-size: 1rem;
        }

        .form-input,
        .form-select {
            padding: 1rem 1.5rem;
            border: 2px solid rgba(210, 210, 215, 0.3);
            border-radius: 16px;
            font-size: 1rem;
            transition: all 0.3s ease;
            background: white;
        }

        .form-input:focus,
        .form-select:focus {
            outline: none;
            border-color: #20c997;
            box-shadow: 0 0 0 3px rgba(32, 201, 151, 0.1);
        }

        .role-options {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1rem;
            margin-top: 1rem;
        }

        .role-option {
            background: white;
            border: 2px solid rgba(210, 210, 215, 0.3);
            border-radius: 20px;
            padding: 1.5rem;
            cursor: pointer;
            transition: all 0.3s ease;
            text-align: center;
        }

        .role-option:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 40px rgba(0,0,0,0.1);
        }

        .role-option.selected {
            border-color: #20c997;
            background: rgba(32, 201, 151, 0.1);
        }

        .role-icon {
            font-size: 2rem;
            margin-bottom: 0.5rem;
            display: block;
        }

        .role-name {
            font-weight: 600;
            color: #1d1d1f;
            margin-bottom: 0.5rem;
        }

        .role-description {
            font-size: 0.9rem;
            color: #6c757d;
            line-height: 1.4;
        }

        /* Bulk Actions */
        .bulk-actions {
            background: rgba(32, 201, 151, 0.1);
            border: 1px solid rgba(32, 201, 151, 0.3);
            border-radius: 24px;
            padding: 2rem;
            margin-bottom: 3rem;
        }

        .bulk-title {
            font-size: 1.5rem;
            font-weight: 600;
            color: #20c997;
            margin-bottom: 1.5rem;
        }

        .bulk-options {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 1.5rem;
        }

        .bulk-option {
            background: white;
            border-radius: 16px;
            padding: 1.5rem;
            cursor: pointer;
            transition: all 0.3s ease;
            text-align: center;
        }

        .bulk-option:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
        }

        /* Status Indicators */
        .status {
            padding: 0.4rem 1rem;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: 600;
            text-transform: uppercase;
        }

        .status.active {
            background: rgba(32, 201, 151, 0.1);
            color: #20c997;
        }

        .status.pending {
            background: rgba(253, 126, 20, 0.1);
            color: #fd7e14;
        }

        .status.inactive {
            background: rgba(108, 117, 125, 0.1);
            color: #6c757d;
        }

        /* Notification */
        .notification {
            position: fixed;
            top: 20px;
            right: 20px;
            background: linear-gradient(135deg, #20c997, #17a2b8);
            color: white;
            padding: 1.5rem 2rem;
            border-radius: 20px;
            box-shadow: 0 15px 40px rgba(0,0,0,0.2);
            transform: translateX(400px);
            transition: all 0.4s ease;
            z-index: 1000;
            max-width: 350px;
            backdrop-filter: blur(20px);
        }

        .notification.show {
            transform: translateX(0);
        }

        .notification.success {
            background: linear-gradient(135deg, #20c997, #17a2b8);
        }

        .notification.error {
            background: linear-gradient(135deg, #dc3545, #c82333);
        }

        .notification.warning {
            background: linear-gradient(135deg, #fd7e14, #e55a14);
        }

        /* View Mode Switcher */
        .view-switcher {
            display: flex;
            gap: 0.5rem;
            margin-bottom: 2rem;
            justify-content: flex-end;
        }

        .view-btn {
            padding: 0.5rem 1rem;
            border: 1px solid rgba(210, 210, 215, 0.3);
            border-radius: 12px;
            background: white;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 0.5rem;
            font-size: 0.9rem;
        }

        .view-btn.active {
            background: linear-gradient(135deg, #20c997, #17a2b8);
            color: white;
            border-color: #20c997;
        }

        .view-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(0,0,0,0.1);
        }

        /* Compact Views */
        .team-grid.list-view {
            display: flex;
            flex-direction: column;
            gap: 1rem;
        }

        .team-grid.list-view .team-member-card {
            padding: 1.5rem;
            border-radius: 20px;
            display: flex;
            align-items: center;
            gap: 1.5rem;
        }

        .team-grid.list-view .member-header {
            margin-bottom: 0;
            flex: 1;
        }

        .team-grid.list-view .member-details,
        .team-grid.list-view .member-actions {
            display: none;
        }

        .team-grid.icon-view {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(180px, 1fr));
            gap: 1rem;
        }

        .team-grid.icon-view .team-member-card {
            padding: 1.5rem;
            border-radius: 20px;
            text-align: center;
            min-height: auto;
        }

        .team-grid.icon-view .member-header {
            flex-direction: column;
            text-align: center;
            margin-bottom: 1rem;
        }

        .team-grid.icon-view .member-details,
        .team-grid.icon-view .member-actions {
            display: none;
        }

        .team-grid.icon-view .member-avatar {
            margin: 0 auto 1rem;
        }

        /* Expanded Card Modal */
        .member-modal {
            display: none;
            position: fixed;
            z-index: 1000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            backdrop-filter: blur(10px);
        }

        .member-modal.show {
            display: flex;
            align-items: center;
            justify-content: center;
            animation: modalFadeIn 0.3s ease;
        }

        .member-modal-content {
            background: white;
            border-radius: 32px;
            padding: 3rem;
            max-width: 600px;
            width: 90%;
            position: relative;
            animation: modalSlideIn 0.4s ease;
            box-shadow: 0 25px 80px rgba(0, 0, 0, 0.3);
            max-height: 90vh;
            overflow-y: auto;
        }

        .modal-close {
            position: absolute;
            top: 1.5rem;
            right: 1.5rem;
            background: rgba(220, 53, 69, 0.1);
            border: 1px solid rgba(220, 53, 69, 0.3);
            color: #dc3545;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            font-size: 1.2rem;
            transition: all 0.3s ease;
        }

        .modal-close:hover {
            background: #dc3545;
            color: white;
        }

        @keyframes modalFadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        @keyframes modalSlideIn {
            from { 
                opacity: 0;
                transform: scale(0.9) translateY(-20px);
            }
            to { 
                opacity: 1;
                transform: scale(1) translateY(0);
            }
        }
            .container {
                padding: 2rem 1.5rem;
            }

            .page-title {
                font-size: 2.5rem;
            }

            .team-grid {
                grid-template-columns: 1fr;
                gap: 1.5rem;
            }

            .form-grid {
                grid-template-columns: 1fr;
                gap: 1.5rem;
            }

            .role-options {
                grid-template-columns: 1fr;
            }

            .bulk-options {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
            <div class="container">
        <!-- Back to Dashboard Button -->
        <div style="margin-bottom: 2rem;">
            <button class="btn btn-secondary" onclick="goBackToDashboard()" style="display: flex; align-items: center; gap: 0.5rem;">
                ← Back to Dashboard
            </button>
        </div>

        <!-- Page Header -->
        <div class="page-header">
            <h1 class="page-title">Team & Access Management</h1>
            <p class="page-subtitle">Manage team members, assign roles, and control permissions for your warehouse operations</p>
        </div>

        <!-- Add New Member Section -->
        <div class="add-member-section">
            <h2 class="section-title">
                <div class="section-icon">👥</div>
                Add New Team Member
            </h2>

            <div class="form-grid">
                <div class="form-group">
                    <label class="form-label">Full Name</label>
                    <input type="text" class="form-input" id="memberName" placeholder="Enter full name">
                </div>

                <div class="form-group">
                    <label class="form-label">Email Address</label>
                    <input type="email" class="form-input" id="memberEmail" placeholder="name@company.com">
                </div>

                <div class="form-group">
                    <label class="form-label">Phone Number</label>
                    <input type="tel" class="form-input" id="memberPhone" placeholder="+1 (555) 123-4567">
                </div>

                <div class="form-group">
                    <label class="form-label">Employee ID</label>
                    <input type="text" class="form-input" id="employeeId" placeholder="EMP-001">
                </div>
            </div>

            <div class="form-group">
                <label class="form-label">Select Role & Permissions</label>
                <div class="role-options">
                    <div class="role-option" onclick="selectRole('admin')">
                        <span class="role-icon">👑</span>
                        <div class="role-name">ADMIN</div>
                        <div class="role-description">Complete system access, user management, configuration</div>
                    </div>

                    <div class="role-option selected" onclick="selectRole('almacen')">
                        <span class="role-icon">🏭</span>
                        <div class="role-name">ALMACÉN</div>
                        <div class="role-description">Equipment control, loan approvals, inventory management</div>
                    </div>

                    <div class="role-option" onclick="selectRole('supervisor')">
                        <span class="role-icon">👷</span>
                        <div class="role-name">SUPERVISOR</div>
                        <div class="role-description">Field operations, equipment requests, team coordination</div>
                    </div>

                    <div class="role-option" onclick="selectRole('operativo')">
                        <span class="role-icon">📊</span>
                        <div class="role-name">OPERATIVO</div>
                        <div class="role-description">Data entry, support tasks, operational assistance</div>
                    </div>

                    <div class="role-option" onclick="selectRole('estimador')">
                        <span class="role-icon">📋</span>
                        <div class="role-name">ESTIMADOR</div>
                        <div class="role-description">Project planning, cost analysis, read-only access</div>
                    </div>
                </div>
            </div>

            <div style="text-align: center; margin-top: 3rem;">
                <button class="btn btn-primary" onclick="addTeamMember()">
                    ➕ Add Team Member
                </button>
                <button class="btn btn-secondary" onclick="sendInvitation()">
                    📧 Send Invitation Email
                </button>
            </div>
        </div>

        <!-- Bulk Actions -->
        <div class="bulk-actions">
            <h3 class="bulk-title">Bulk Operations</h3>
            <div class="bulk-options">
                <div class="bulk-option" onclick="importCSV()">
                    <h4>📄 Import from CSV</h4>
                    <p>Upload a CSV file with multiple team members</p>
                </div>

                <div class="bulk-option" onclick="inviteMultiple()">
                    <h4>📧 Batch Invitations</h4>
                    <p>Send invites to multiple email addresses</p>
                </div>

                <div class="bulk-option" onclick="generateReport()">
                    <h4>📊 Team Report</h4>
                    <p>Export current team structure and permissions</p>
                </div>
            </div>
        </div>

        <!-- Current Team Members -->
        <div class="add-member-section">
            <h2 class="section-title">
                <div class="section-icon">👥</div>
                Current Team Members
            </h2>

            <!-- View Mode Switcher -->
            <div class="view-switcher">
                <button class="view-btn active" onclick="setViewMode('card')">
                    🗃️ Card View
                </button>
                <button class="view-btn" onclick="setViewMode('list')">
                    📋 List View
                </button>
                <button class="view-btn" onclick="setViewMode('icon')">
                    👤 Icon View
                </button>
            </div>

            <div class="team-grid" id="teamGrid">
                <!-- Admin Member -->
                <div class="team-member-card" onclick="openMemberModal('john')">
                    <div class="member-header">
                        <div class="member-avatar">JD</div>
                        <div class="member-info">
                            <h3>John Doe</h3>
                            <span class="member-role">ADMIN</span>
                        </div>
                    </div>
                    <div class="member-details">
                        <div class="detail-row">
                            <span class="detail-label">Email:</span>
                            <span class="detail-value">john@company.com</span>
                        </div>
                        <div class="detail-row">
                            <span class="detail-label">Phone:</span>
                            <span class="detail-value">+1 (555) 123-4567</span>
                        </div>
                        <div class="detail-row">
                            <span class="detail-label">Employee ID:</span>
                            <span class="detail-value">EMP-001</span>
                        </div>
                        <div class="detail-row">
                            <span class="detail-label">Status:</span>
                            <span class="status active">Active</span>
                        </div>
                        <div class="detail-row">
                            <span class="detail-label">Last Login:</span>
                            <span class="detail-value">2 hours ago</span>
                        </div>
                    </div>
                    <div class="member-actions">
                        <button class="btn btn-primary" onclick="event.stopPropagation(); editMember('john')">✏️ Edit</button>
                        <button class="btn btn-secondary" onclick="event.stopPropagation(); viewPermissions('john')">🔐 Permissions</button>
                    </div>
                </div>

                <!-- Warehouse Member -->
                <div class="team-member-card" onclick="openMemberModal('maria')">
                    <div class="member-header">
                        <div class="member-avatar" style="background: linear-gradient(135deg, #fd7e14, #dc3545);">MS</div>
                        <div class="member-info">
                            <h3>Maria Santos</h3>
                            <span class="member-role" style="background: linear-gradient(135deg, #fd7e14, #dc3545);">ALMACÉN</span>
                        </div>
                    </div>
                    <div class="member-details">
                        <div class="detail-row">
                            <span class="detail-label">Email:</span>
                            <span class="detail-value">maria@company.com</span>
                        </div>
                        <div class="detail-row">
                            <span class="detail-label">Phone:</span>
                            <span class="detail-value">+1 (555) 234-5678</span>
                        </div>
                        <div class="detail-row">
                            <span class="detail-label">Employee ID:</span>
                            <span class="detail-value">EMP-002</span>
                        </div>
                        <div class="detail-row">
                            <span class="detail-label">Status:</span>
                            <span class="status active">Active</span>
                        </div>
                        <div class="detail-row">
                            <span class="detail-label">Last Login:</span>
                            <span class="detail-value">1 hour ago</span>
                        </div>
                    </div>
                    <div class="member-actions">
                        <button class="btn btn-primary" onclick="event.stopPropagation(); editMember('maria')">✏️ Edit</button>
                        <button class="btn btn-secondary" onclick="event.stopPropagation(); viewPermissions('maria')">🔐 Permissions</button>
                    </div>
                </div>

                <!-- Supervisor Member -->
                <div class="team-member-card" onclick="openMemberModal('carlos')">
                    <div class="member-header">
                        <div class="member-avatar" style="background: linear-gradient(135deg, #6610f2, #d63384);">CR</div>
                        <div class="member-info">
                            <h3>Carlos Rodriguez</h3>
                            <span class="member-role" style="background: linear-gradient(135deg, #6610f2, #d63384);">SUPERVISOR</span>
                        </div>
                    </div>
                    <div class="member-details">
                        <div class="detail-row">
                            <span class="detail-label">Email:</span>
                            <span class="detail-value">carlos@company.com</span>
                        </div>
                        <div class="detail-row">
                            <span class="detail-label">Phone:</span>
                            <span class="detail-value">+1 (555) 345-6789</span>
                        </div>
                        <div class="detail-row">
                            <span class="detail-label">Employee ID:</span>
                            <span class="detail-value">EMP-003</span>
                        </div>
                        <div class="detail-row">
                            <span class="detail-label">Status:</span>
                            <span class="status active">Active</span>
                        </div>
                        <div class="detail-row">
                            <span class="detail-label">Last Login:</span>
                            <span class="detail-value">30 minutes ago</span>
                        </div>
                    </div>
                    <div class="member-actions">
                        <button class="btn btn-primary" onclick="event.stopPropagation(); editMember('carlos')">✏️ Edit</button>
                        <button class="btn btn-secondary" onclick="event.stopPropagation(); viewPermissions('carlos')">🔐 Permissions</button>
                    </div>
                </div>

                <!-- Pending Invitation -->
                <div class="team-member-card" style="opacity: 0.7;" onclick="openMemberModal('ana')">
                    <div class="member-header">
                        <div class="member-avatar" style="background: linear-gradient(135deg, #6c757d, #495057);">AM</div>
                        <div class="member-info">
                            <h3>Ana Martinez</h3>
                            <span class="member-role" style="background: linear-gradient(135deg, #0dcaf0, #6f42c1);">ESTIMADOR</span>
                        </div>
                    </div>
                    <div class="member-details">
                        <div class="detail-row">
                            <span class="detail-label">Email:</span>
                            <span class="detail-value">ana@company.com</span>
                        </div>
                        <div class="detail-row">
                            <span class="detail-label">Phone:</span>
                            <span class="detail-value">+1 (555) 456-7890</span>
                        </div>
                        <div class="detail-row">
                            <span class="detail-label">Employee ID:</span>
                            <span class="detail-value">EMP-004</span>
                        </div>
                        <div class="detail-row">
                            <span class="detail-label">Status:</span>
                            <span class="status pending">Pending Invitation</span>
                        </div>
                        <div class="detail-row">
                            <span class="detail-label">Invited:</span>
                            <span class="detail-value">2 days ago</span>
                        </div>
                    </div>
                    <div class="member-actions">
                        <button class="btn btn-primary" onclick="event.stopPropagation(); resendInvitation('ana')">📧 Resend Invite</button>
                        <button class="btn btn-danger" onclick="event.stopPropagation(); cancelInvitation('ana')">❌ Cancel</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Member Detail Modal -->
    <div id="memberModal" class="member-modal">
        <div class="member-modal-content">
            <button class="modal-close" onclick="closeMemberModal()">×</button>
            
            <div id="modalContent">
                <!-- Content will be populated dynamically -->
            </div>
        </div>
    </div>

    <!-- Notification -->
    <div id="notification" class="notification"></div>

    <script>
        // Global variables
        let selectedRole = 'almacen';
        let currentViewMode = 'card';

        // Team member data
        const teamMembers = {
            john: {
                name: 'John Doe',
                email: 'john@company.com',
                phone: '+1 (555) 123-4567',
                employeeId: 'EMP-001',
                role: 'ADMIN',
                status: 'Active',
                lastLogin: '2 hours ago',
                avatar: 'JD',
                gradient: 'linear-gradient(135deg, #20c997, #17a2b8)',
                permissions: ['Full System Access', 'User Management', 'Configuration', 'Reports'],
                department: 'Administration',
                joinDate: '2023-01-15'
            },
            maria: {
                name: 'Maria Santos',
                email: 'maria@company.com',
                phone: '+1 (555) 234-5678',
                employeeId: 'EMP-002',
                role: 'ALMACÉN',
                status: 'Active',
                lastLogin: '1 hour ago',
                avatar: 'MS',
                gradient: 'linear-gradient(135deg, #fd7e14, #dc3545)',
                permissions: ['Equipment Control', 'Loan Approvals', 'Inventory Management'],
                department: 'Warehouse Operations',
                joinDate: '2023-02-01'
            },
            carlos: {
                name: 'Carlos Rodriguez',
                email: 'carlos@company.com',
                phone: '+1 (555) 345-6789',
                employeeId: 'EMP-003',
                role: 'SUPERVISOR',
                status: 'Active',
                lastLogin: '30 minutes ago',
                avatar: 'CR',
                gradient: 'linear-gradient(135deg, #6610f2, #d63384)',
                permissions: ['Field Operations', 'Equipment Requests', 'Team Coordination'],
                department: 'Field Operations',
                joinDate: '2023-03-10'
            },
            ana: {
                name: 'Ana Martinez',
                email: 'ana@company.com',
                phone: '+1 (555) 456-7890',
                employeeId: 'EMP-004',
                role: 'ESTIMADOR',
                status: 'Pending Invitation',
                lastLogin: 'Never',
                avatar: 'AM',
                gradient: 'linear-gradient(135deg, #0dcaf0, #6f42c1)',
                permissions: ['Project Planning', 'Cost Analysis', 'Read-only Access'],
                department: 'Project Management',
                joinDate: '2024-01-15'
            }
        };

    <script>
        // Global variables
        let selectedRole = 'almacen';
        let currentViewMode = 'card';

        // Team member data
        const teamMembers = {
            john: {
                name: 'John Doe',
                email: 'john@company.com',
                phone: '+1 (555) 123-4567',
                employeeId: 'EMP-001',
                role: 'ADMIN',
                status: 'Active',
                lastLogin: '2 hours ago',
                avatar: 'JD',
                gradient: 'linear-gradient(135deg, #20c997, #17a2b8)',
                permissions: ['Full System Access', 'User Management', 'Configuration', 'Reports'],
                department: 'Administration',
                joinDate: '2023-01-15'
            },
            maria: {
                name: 'Maria Santos',
                email: 'maria@company.com',
                phone: '+1 (555) 234-5678',
                employeeId: 'EMP-002',
                role: 'ALMACÉN',
                status: 'Active',
                lastLogin: '1 hour ago',
                avatar: 'MS',
                gradient: 'linear-gradient(135deg, #fd7e14, #dc3545)',
                permissions: ['Equipment Control', 'Loan Approvals', 'Inventory Management'],
                department: 'Warehouse Operations',
                joinDate: '2023-02-01'
            }
        };

        // Show notification function
        function showNotification(message, type) {
            type = type || 'success';
            const notification = document.getElementById('notification');
            notification.textContent = message;
            notification.classList.remove('success', 'warning', 'error');
            notification.classList.add(type);
            notification.classList.add('show');
            setTimeout(() => {
                notification.classList.remove('show');
            }, 3500);
        }

        // Back to dashboard
        function goBackToDashboard() {
            showNotification('Returning to dashboard...', 'success');
            setTimeout(() => {
                window.history.back();
            }, 1000);
        }

        // Role selection
        function selectRole(role) {
            document.querySelectorAll('.role-option').forEach(option => {
                option.classList.remove('selected');
            });
            event.currentTarget.classList.add('selected');
            selectedRole = role;
            showNotification('Selected role: ' + role.toUpperCase(), 'success');
        }

        // View mode switching
        function setViewMode(mode) {
            currentViewMode = mode;
            document.querySelectorAll('.view-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            event.currentTarget.classList.add('active');
            const teamGrid = document.getElementById('teamGrid');
            teamGrid.className = 'team-grid ' + mode + '-view';
            showNotification('Switched to ' + mode + ' view', 'success');
        }

        // Add team member
        function addTeamMember() {
            const name = document.getElementById('memberName').value;
            const email = document.getElementById('memberEmail').value;
            if (!name || !email) {
                showNotification('Please fill in name and email fields', 'error');
                return;
            }
            showNotification('Adding ' + name + ' as ' + selectedRole.toUpperCase() + '...', 'success');
            setTimeout(() => {
                showNotification(name + ' added successfully! Invitation email sent.', 'success');
                clearForm();
            }, 2000);
        }

        // Send invitation
        function sendInvitation() {
            const email = document.getElementById('memberEmail').value;
            if (!email) {
                showNotification('Please enter an email address', 'error');
                return;
            }
            showNotification('Sending invitation to ' + email + '...', 'success');
            setTimeout(() => {
                showNotification('Invitation sent successfully!', 'success');
            }, 1500);
        }

        // Clear form
        function clearForm() {
            document.getElementById('memberName').value = '';
            document.getElementById('memberEmail').value = '';
            document.getElementById('memberPhone').value = '';
            document.getElementById('employeeId').value = '';
        }

        // Edit member
        function editMember(memberId) {
            showNotification('Opening edit form for ' + memberId + '...', 'success');
        }

        // View permissions
        function viewPermissions(memberId) {
            showNotification('Loading permissions for ' + memberId + '...', 'success');
        }

        // Resend invitation
        function resendInvitation(memberId) {
            showNotification('Resending invitation to ' + memberId + '...', 'success');
        }

        // Cancel invitation
        function cancelInvitation(memberId) {
            showNotification('Cancelling invitation for ' + memberId + '...', 'warning');
        }

        // Bulk operations
        function importCSV() {
            showNotification('CSV Import: This will open a file picker to upload a CSV with team member data', 'success');
        }

        function inviteMultiple() {
            showNotification('Batch Invitations: This will open a form for multiple email addresses', 'success');
        }

        function generateReport() {
            showNotification('Team Report: Generating Excel/PDF report with team structure', 'success');
        }

        // Member modal functions
        function openMemberModal(memberId) {
            const member = teamMembers[memberId];
            if (!member) return;
            
            const modalContent = document.getElementById('modalContent');
            modalContent.innerHTML = `
                <div class="member-header" style="margin-bottom: 2rem; display: flex; align-items: center;">
                    <div class="member-avatar" style="background: ${member.gradient}; width: 100px; height: 100px; font-size: 2.5rem; border-radius: 50%; display: flex; align-items: center; justify-content: center; color: white; font-weight: 700;">
                        ${member.avatar}
                    </div>
                    <div style="margin-left: 1.5rem;">
                        <h2 style="margin-bottom: 0.5rem; color: #1d1d1f;">${member.name}</h2>
                        <span style="background: ${member.gradient}; color: white; padding: 0.5rem 1.5rem; border-radius: 20px; font-size: 1rem; font-weight: 600; text-transform: uppercase;">
                            ${member.role}
                        </span>
                    </div>
                </div>

                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 2rem; margin-bottom: 3rem;">
                    <div>
                        <h4 style="color: #495057; margin-bottom: 1rem;">Contact Information</h4>
                        <div style="display: flex; justify-content: space-between; padding: 0.5rem 0; border-bottom: 1px solid rgba(210, 210, 215, 0.2);">
                            <span style="font-weight: 600; color: #495057;">Email:</span>
                            <span style="color: #6c757d;">${member.email}</span>
                        </div>
                        <div style="display: flex; justify-content: space-between; padding: 0.5rem 0; border-bottom: 1px solid rgba(210, 210, 215, 0.2);">
                            <span style="font-weight: 600; color: #495057;">Phone:</span>
                            <span style="color: #6c757d;">${member.phone}</span>
                        </div>
                        <div style="display: flex; justify-content: space-between; padding: 0.5rem 0; border-bottom: 1px solid rgba(210, 210, 215, 0.2);">
                            <span style="font-weight: 600; color: #495057;">Employee ID:</span>
                            <span style="color: #6c757d;">${member.employeeId}</span>
                        </div>
                    </div>

                    <div>
                        <h4 style="color: #495057; margin-bottom: 1rem;">Employment Details</h4>
                        <div style="display: flex; justify-content: space-between; padding: 0.5rem 0; border-bottom: 1px solid rgba(210, 210, 215, 0.2);">
                            <span style="font-weight: 600; color: #495057;">Department:</span>
                            <span style="color: #6c757d;">${member.department}</span>
                        </div>
                        <div style="display: flex; justify-content: space-between; padding: 0.5rem 0; border-bottom: 1px solid rgba(210, 210, 215, 0.2);">
                            <span style="font-weight: 600; color: #495057;">Join Date:</span>
                            <span style="color: #6c757d;">${member.joinDate}</span>
                        </div>
                        <div style="display: flex; justify-content: space-between; padding: 0.5rem 0; border-bottom: 1px solid rgba(210, 210, 215, 0.2);">
                            <span style="font-weight: 600; color: #495057;">Status:</span>
                            <span style="background: rgba(32, 201, 151, 0.1); color: #20c997; padding: 0.4rem 1rem; border-radius: 20px; font-size: 0.8rem; font-weight: 600; text-transform: uppercase;">${member.status}</span>
                        </div>
                        <div style="display: flex; justify-content: space-between; padding: 0.5rem 0; border-bottom: 1px solid rgba(210, 210, 215, 0.2);">
                            <span style="font-weight: 600; color: #495057;">Last Login:</span>
                            <span style="color: #6c757d;">${member.lastLogin}</span>
                        </div>
                    </div>
                </div>

                <div style="margin-bottom: 2rem;">
                    <h4 style="color: #495057; margin-bottom: 1rem;">Permissions & Access</h4>
                    <div style="display: flex; flex-wrap: wrap; gap: 0.5rem;">
                        ${member.permissions.map(permission => `
                            <span style="background: rgba(32, 201, 151, 0.1); color: #20c997; padding: 0.4rem 1rem; border-radius: 16px; font-size: 0.9rem; font-weight: 500;">
                                ${permission}
                            </span>
                        `).join('')}
                    </div>
                </div>

                <div style="display: flex; gap: 1rem; justify-content: center; margin-top: 2rem;">
                    <button onclick="editMemberFromModal('${memberId}')" style="background: linear-gradient(135deg, #20c997, #17a2b8); color: white; padding: 0.75rem 1.5rem; border-radius: 16px; border: none; cursor: pointer; font-weight: 600; font-size: 0.9rem; transition: all 0.3s ease;">
                        Edit Member
                    </button>
                    <button onclick="viewPermissionsFromModal('${memberId}')" style="background: rgba(108, 117, 125, 0.1); color: #495057; border: 1px solid rgba(108, 117, 125, 0.3); padding: 0.75rem 1.5rem; border-radius: 16px; cursor: pointer; font-weight: 600; font-size: 0.9rem; transition: all 0.3s ease;">
                        Manage Permissions
                    </button>
                </div>
            `;
            
            document.getElementById('memberModal').classList.add('show');
        }

        function closeMemberModal() {
            document.getElementById('memberModal').classList.remove('show');
        }

        function editMemberFromModal(memberId) {
            closeMemberModal();
            editMember(memberId);
        }

        function viewPermissionsFromModal(memberId) {
            closeMemberModal();
            viewPermissions(memberId);
        }

        // Initialize page
        document.addEventListener('DOMContentLoaded', function() {
            // Set default role selection
            document.querySelector('.role-option[onclick*="almacen"]').classList.add('selected');
            
            // Close modal when clicking outside
            document.getElementById('memberModal').addEventListener('click', function(event) {
                if (event.target === this) {
                    closeMemberModal();
                }
            });
        });
    </script>
