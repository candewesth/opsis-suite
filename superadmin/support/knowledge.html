<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Base de Conocimiento - SuperAdmin | Opsis Suite</title>
    <style>
        :root { --verdi-dark: #022326; --sidebar-width: 240px; }
        * { margin: 0; padding: 0; box-sizing: border-box; }
        html, body { background: #f8fafc; }
        body { opacity: 0; transition: opacity 0.15s ease-in; }
        body.loaded { opacity: 1; }
        .app-shell { min-height: 100vh; background: #f8fafc; }
        .sidebar { position: fixed; left: 0; top: 0; width: var(--sidebar-width); height: 100vh; background: var(--verdi-dark); }
        .main-content { margin-left: var(--sidebar-width); min-height: 100vh; background: #f8fafc; }

        /* Search Section - Verdi + Aire */
        .search-section {
            background: linear-gradient(135deg, #022326 0%, #02735E 100%);
            border-radius: 24px;
            padding: 2.5rem;
            margin-bottom: 2rem;
            box-shadow: 0 10px 40px rgba(2, 35, 38, 0.25);
            position: relative;
            overflow: hidden;
        }
        .search-section::before {
            content: '';
            position: absolute;
            top: -50%;
            right: -20%;
            width: 400px;
            height: 400px;
            background: radial-gradient(circle, rgba(16, 185, 129, 0.15) 0%, transparent 70%);
            pointer-events: none;
        }
        .search-section h2 {
            color: white;
            font-size: 1.75rem;
            font-weight: 700;
            margin-bottom: 0.5rem;
        }
        .search-section p {
            color: rgba(255,255,255,0.8);
            font-size: 1rem;
            margin-bottom: 1.5rem;
        }
        .search-wrapper {
            position: relative;
            max-width: 600px;
        }
        .search-wrapper i {
            position: absolute;
            left: 1.25rem;
            top: 50%;
            transform: translateY(-50%);
            color: #94a3b8;
            font-size: 1.1rem;
        }
        .search-wrapper input {
            width: 100%;
            padding: 1.25rem 1.25rem 1.25rem 3.25rem;
            border: none;
            border-radius: 16px;
            font-size: 1rem;
            background: white;
            box-shadow: 0 4px 20px rgba(0,0,0,0.15);
            transition: all 0.25s ease;
        }
        .search-wrapper input:focus {
            outline: none;
            box-shadow: 0 6px 30px rgba(0,0,0,0.2);
            transform: translateY(-2px);
        }
        .search-wrapper input::placeholder {
            color: #94a3b8;
        }
        .search-stats {
            display: flex;
            gap: 2rem;
            margin-top: 1.5rem;
        }
        .search-stat {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            color: rgba(255,255,255,0.9);
            font-size: 0.9rem;
        }
        .search-stat i {
            color: #10b981;
        }

        /* Categories Grid */
        .categories-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 1.25rem;
            margin-bottom: 2rem;
        }

        /* Category Card - Verdi + Aire */
        .category-card {
            background: white;
            border-radius: 20px;
            padding: 1.75rem;
            cursor: pointer;
            transition: all 0.3s ease;
            border: 1px solid rgba(2, 115, 94, 0.1);
            box-shadow: 0 4px 15px rgba(0,0,0,0.04);
            position: relative;
            overflow: hidden;
        }
        .category-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: linear-gradient(90deg, var(--card-color-start) 0%, var(--card-color-end) 100%);
            opacity: 0;
            transition: opacity 0.3s ease;
        }
        .category-card:hover {
            transform: translateY(-4px);
            box-shadow: 0 12px 35px rgba(2, 35, 38, 0.12);
            border-color: rgba(2, 115, 94, 0.2);
        }
        .category-card:hover::before {
            opacity: 1;
        }
        .category-header {
            display: flex;
            align-items: flex-start;
            gap: 1rem;
            margin-bottom: 1rem;
        }
        .category-icon {
            width: 56px;
            height: 56px;
            border-radius: 16px;
            display: flex;
            align-items: center;
            justify-content: center;
            flex-shrink: 0;
        }
        .category-icon i {
            font-size: 1.5rem;
            color: white;
        }
        .category-info h3 {
            font-size: 1.1rem;
            font-weight: 700;
            color: #1e293b;
            margin-bottom: 0.25rem;
        }
        .category-info .article-count {
            display: inline-flex;
            align-items: center;
            gap: 0.35rem;
            font-size: 0.8rem;
            color: #64748b;
            background: #f1f5f9;
            padding: 0.25rem 0.75rem;
            border-radius: 20px;
        }
        .category-description {
            font-size: 0.9rem;
            color: #64748b;
            line-height: 1.6;
        }
        .category-footer {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-top: 1.25rem;
            padding-top: 1rem;
            border-top: 1px solid #f1f5f9;
        }
        .category-footer .view-link {
            font-size: 0.85rem;
            font-weight: 600;
            color: #02735E;
            display: flex;
            align-items: center;
            gap: 0.5rem;
            transition: gap 0.2s ease;
        }
        .category-card:hover .view-link {
            gap: 0.75rem;
        }

        /* Recent Articles Section */
        .articles-section {
            background: white;
            border-radius: 24px;
            overflow: hidden;
            box-shadow: 0 4px 20px rgba(2, 35, 38, 0.06);
            border: 1px solid rgba(2, 115, 94, 0.1);
        }
        .articles-header {
            background: linear-gradient(135deg, #022326 0%, #034040 100%);
            padding: 1.5rem 2rem;
            display: flex;
            align-items: center;
            justify-content: space-between;
        }
        .articles-header h3 {
            color: white;
            font-size: 1.1rem;
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 0.75rem;
        }
        .articles-header .btn-ghost {
            background: rgba(255,255,255,0.1);
            color: white;
            border: 1px solid rgba(255,255,255,0.2);
            padding: 0.5rem 1rem;
            border-radius: 10px;
            font-size: 0.85rem;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.2s ease;
        }
        .articles-header .btn-ghost:hover {
            background: rgba(255,255,255,0.2);
        }
        .articles-list {
            display: flex;
            flex-direction: column;
        }
        .article-item {
            display: flex;
            gap: 1.25rem;
            padding: 1.5rem 2rem;
            border-bottom: 1px solid #f1f5f9;
            text-decoration: none;
            color: inherit;
            transition: all 0.2s ease;
        }
        .article-item:last-child {
            border-bottom: none;
        }
        .article-item:hover {
            background: linear-gradient(135deg, #f8fafc 0%, #f0fdf4 100%);
        }
        .article-icon {
            width: 48px;
            height: 48px;
            background: linear-gradient(135deg, #f0fdf4 0%, #dcfce7 100%);
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            flex-shrink: 0;
        }
        .article-icon i {
            color: #02735E;
            font-size: 1.1rem;
        }
        .article-content {
            flex: 1;
        }
        .article-content h4 {
            font-size: 1rem;
            font-weight: 600;
            color: #1e293b;
            margin-bottom: 0.35rem;
            transition: color 0.2s ease;
        }
        .article-item:hover .article-content h4 {
            color: #02735E;
        }
        .article-content p {
            font-size: 0.875rem;
            color: #64748b;
            line-height: 1.5;
        }
        .article-meta {
            text-align: right;
            flex-shrink: 0;
        }
        .article-meta .updated {
            font-size: 0.75rem;
            color: #94a3b8;
        }
        .article-meta .time {
            font-size: 0.8rem;
            color: #64748b;
            font-weight: 500;
        }
        .article-meta .category-tag {
            display: inline-block;
            margin-top: 0.5rem;
            font-size: 0.7rem;
            padding: 0.2rem 0.6rem;
            background: #f1f5f9;
            border-radius: 12px;
            color: #475569;
        }

        /* Category Detail View */
        .category-detail {
            display: none;
        }
        .category-detail.active {
            display: block;
        }
        .main-view.hidden {
            display: none;
        }
        .back-btn {
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            padding: 0.75rem 1.25rem;
            background: white;
            border: 1px solid rgba(2, 115, 94, 0.2);
            border-radius: 12px;
            color: #02735E;
            font-weight: 600;
            font-size: 0.9rem;
            cursor: pointer;
            transition: all 0.2s ease;
            margin-bottom: 1.5rem;
        }
        .back-btn:hover {
            background: #f0fdf4;
            border-color: #02735E;
        }
        .category-detail-header {
            background: linear-gradient(135deg, var(--cat-color-start) 0%, var(--cat-color-end) 100%);
            border-radius: 20px;
            padding: 2rem;
            margin-bottom: 1.5rem;
            display: flex;
            align-items: center;
            gap: 1.5rem;
        }
        .category-detail-header .icon-large {
            width: 72px;
            height: 72px;
            background: rgba(255,255,255,0.2);
            border-radius: 18px;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        .category-detail-header .icon-large i {
            font-size: 2rem;
            color: white;
        }
        .category-detail-header .info h2 {
            color: white;
            font-size: 1.5rem;
            font-weight: 700;
            margin-bottom: 0.25rem;
        }
        .category-detail-header .info p {
            color: rgba(255,255,255,0.85);
            font-size: 0.95rem;
        }
        .articles-grid {
            display: flex;
            flex-direction: column;
            gap: 1rem;
        }
        .article-card {
            background: white;
            border-radius: 16px;
            padding: 1.5rem;
            border: 1px solid rgba(2, 115, 94, 0.1);
            box-shadow: 0 2px 10px rgba(0,0,0,0.03);
            cursor: pointer;
            transition: all 0.25s ease;
            display: flex;
            gap: 1.25rem;
        }
        .article-card:hover {
            transform: translateX(8px);
            box-shadow: 0 8px 25px rgba(2, 35, 38, 0.1);
            border-color: rgba(2, 115, 94, 0.25);
        }
        .article-card .art-icon {
            width: 52px;
            height: 52px;
            background: linear-gradient(135deg, #f0fdf4 0%, #dcfce7 100%);
            border-radius: 14px;
            display: flex;
            align-items: center;
            justify-content: center;
            flex-shrink: 0;
        }
        .article-card .art-icon i {
            color: #02735E;
            font-size: 1.2rem;
        }
        .article-card .art-content {
            flex: 1;
        }
        .article-card .art-content h4 {
            font-size: 1.05rem;
            font-weight: 600;
            color: #1e293b;
            margin-bottom: 0.4rem;
            transition: color 0.2s ease;
        }
        .article-card:hover .art-content h4 {
            color: #02735E;
        }
        .article-card .art-content p {
            font-size: 0.875rem;
            color: #64748b;
            line-height: 1.55;
            margin-bottom: 0.75rem;
        }
        .article-card .art-meta {
            display: flex;
            align-items: center;
            gap: 1rem;
            font-size: 0.8rem;
            color: #94a3b8;
        }
        .article-card .art-meta span {
            display: flex;
            align-items: center;
            gap: 0.35rem;
        }
        .article-card .read-more {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            color: #02735E;
            font-weight: 600;
            font-size: 0.85rem;
            flex-shrink: 0;
            opacity: 0;
            transform: translateX(-10px);
            transition: all 0.25s ease;
        }
        .article-card:hover .read-more {
            opacity: 1;
            transform: translateX(0);
        }

        /* Article Modal */
        .article-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(2, 35, 38, 0.6);
            z-index: 1000;
            padding: 2rem;
            overflow-y: auto;
        }
        .article-modal.active {
            display: flex;
            align-items: flex-start;
            justify-content: center;
        }
        .modal-content {
            background: white;
            border-radius: 24px;
            max-width: 800px;
            width: 100%;
            margin-top: 2rem;
            overflow: hidden;
            box-shadow: 0 25px 80px rgba(0,0,0,0.3);
        }
        .modal-header {
            background: linear-gradient(135deg, #022326 0%, #02735E 100%);
            padding: 2rem;
            position: relative;
        }
        .modal-close {
            position: absolute;
            top: 1.25rem;
            right: 1.25rem;
            width: 36px;
            height: 36px;
            background: rgba(255,255,255,0.15);
            border: none;
            border-radius: 10px;
            color: white;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.2s ease;
        }
        .modal-close:hover {
            background: rgba(255,255,255,0.25);
        }
        .modal-header h2 {
            color: white;
            font-size: 1.4rem;
            font-weight: 700;
            margin-bottom: 0.75rem;
            padding-right: 2rem;
        }
        .modal-header .meta-row {
            display: flex;
            gap: 1.5rem;
            font-size: 0.85rem;
            color: rgba(255,255,255,0.8);
        }
        .modal-header .meta-row span {
            display: flex;
            align-items: center;
            gap: 0.4rem;
        }
        .modal-body {
            padding: 2rem;
        }
        .modal-body h3 {
            color: #1e293b;
            font-size: 1.15rem;
            margin: 1.5rem 0 0.75rem 0;
        }
        .modal-body h3:first-child {
            margin-top: 0;
        }
        .modal-body p {
            color: #475569;
            line-height: 1.7;
            margin-bottom: 1rem;
        }
        .modal-body ul, .modal-body ol {
            color: #475569;
            padding-left: 1.5rem;
            margin-bottom: 1rem;
        }
        .modal-body li {
            margin-bottom: 0.5rem;
            line-height: 1.6;
        }
        .modal-body .code-block {
            background: #1e293b;
            color: #e2e8f0;
            padding: 1rem 1.25rem;
            border-radius: 12px;
            font-family: 'Fira Code', monospace;
            font-size: 0.875rem;
            overflow-x: auto;
            margin: 1rem 0;
        }
        .modal-body .tip-box {
            background: linear-gradient(135deg, #f0fdf4 0%, #dcfce7 100%);
            border-left: 4px solid #02735E;
            padding: 1rem 1.25rem;
            border-radius: 0 12px 12px 0;
            margin: 1rem 0;
        }
        .modal-body .tip-box strong {
            color: #02735E;
        }
        .modal-footer {
            padding: 1.5rem 2rem;
            border-top: 1px solid #f1f5f9;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        .modal-footer .helpful {
            display: flex;
            align-items: center;
            gap: 0.75rem;
            font-size: 0.9rem;
            color: #64748b;
        }
        .modal-footer .helpful button {
            padding: 0.5rem 1rem;
            border: 1px solid #e2e8f0;
            background: white;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.2s ease;
        }
        .modal-footer .helpful button:hover {
            border-color: #02735E;
            color: #02735E;
        }
        .modal-footer .related-link {
            color: #02735E;
            font-weight: 500;
            font-size: 0.9rem;
            text-decoration: none;
            display: flex;
            align-items: center;
            gap: 0.4rem;
        }

        /* Search Results */
        .search-results {
            display: none;
            margin-bottom: 2rem;
        }
        .search-results.active {
            display: block;
        }
        .search-results-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 1rem;
        }
        .search-results-header h3 {
            font-size: 1rem;
            color: #1e293b;
        }
        .search-results-header .clear-search {
            font-size: 0.85rem;
            color: #02735E;
            cursor: pointer;
            background: none;
            border: none;
            font-weight: 500;
        }
        .no-results {
            text-align: center;
            padding: 3rem;
            color: #64748b;
        }
        .no-results i {
            font-size: 3rem;
            color: #cbd5e1;
            margin-bottom: 1rem;
        }
    </style>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="../css/superadmin.css?v=13">
</head>
<body>
    <div class="app-shell">
        <!-- Sidebar -->
        <aside class="sidebar" id="sidebar"></aside>

        <!-- Main Content -->
        <main class="main-content">
            <!-- Header -->
            <header class="header">
                <div class="header-left">
                    <h1 class="page-title">Base de Conocimiento</h1>
                    <p class="page-subtitle">Documentaci√≥n y art√≠culos de ayuda para el equipo</p>
                </div>
            </header>

            <div class="page-content">
                <!-- Search Section -->
                <div class="search-section">
                    <h2>¬øC√≥mo podemos ayudarte?</h2>
                    <p>Busca en nuestra base de conocimiento para encontrar respuestas r√°pidas</p>
                    <div class="search-wrapper">
                        <i class="fas fa-search"></i>
                        <input type="text" id="searchInput" placeholder="Buscar art√≠culos, gu√≠as, tutoriales..." oninput="searchArticles(this.value)">
                    </div>
                    <div class="search-stats">
                        <div class="search-stat">
                            <i class="fas fa-file-alt"></i>
                            <span>60+ Art√≠culos</span>
                        </div>
                        <div class="search-stat">
                            <i class="fas fa-folder"></i>
                            <span>6 Categor√≠as</span>
                        </div>
                        <div class="search-stat">
                            <i class="fas fa-clock"></i>
                            <span>Actualizado hoy</span>
                        </div>
                    </div>
                </div>

                <!-- Search Results -->
                <div class="search-results" id="searchResults">
                    <div class="search-results-header">
                        <h3><i class="fas fa-search"></i> Resultados de b√∫squeda</h3>
                        <button class="clear-search" onclick="clearSearch()">Limpiar b√∫squeda</button>
                    </div>
                    <div class="articles-grid" id="searchResultsList"></div>
                </div>

                <!-- Main View -->
                <div class="main-view" id="mainView">
                <div class="categories-grid">
                    <!-- Getting Started -->
                    <div class="category-card" style="--card-color-start: #02735E; --card-color-end: #10b981;" onclick="showCategory('getting-started')">
                        <div class="category-header">
                            <div class="category-icon" style="background: linear-gradient(135deg, #02735E 0%, #10b981 100%);">
                                <i class="fas fa-rocket"></i>
                            </div>
                            <div class="category-info">
                                <h3>Primeros Pasos</h3>
                                <span class="article-count"><i class="fas fa-file-alt"></i> 8 art√≠culos</span>
                            </div>
                        </div>
                        <p class="category-description">
                            Gu√≠as iniciales para configurar y comenzar a usar Opsis Suite de manera efectiva.
                        </p>
                        <div class="category-footer">
                            <span class="view-link">Ver art√≠culos <i class="fas fa-arrow-right"></i></span>
                        </div>
                    </div>

                    <!-- Products -->
                    <div class="category-card" style="--card-color-start: #8b5cf6; --card-color-end: #a78bfa;" onclick="showCategory('products')">
                        <div class="category-header">
                            <div class="category-icon" style="background: linear-gradient(135deg, #8b5cf6 0%, #a78bfa 100%);">
                                <i class="fas fa-box"></i>
                            </div>
                            <div class="category-info">
                                <h3>Productos</h3>
                                <span class="article-count"><i class="fas fa-file-alt"></i> 15 art√≠culos</span>
                            </div>
                        </div>
                        <p class="category-description">
                            Documentaci√≥n detallada de MotorSync, TimeSync, y otros productos de la suite.
                        </p>
                        <div class="category-footer">
                            <span class="view-link">Ver art√≠culos <i class="fas fa-arrow-right"></i></span>
                        </div>
                    </div>

                    <!-- Billing -->
                    <div class="category-card" style="--card-color-start: #10b981; --card-color-end: #6ee7b7;" onclick="showCategory('billing')">
                        <div class="category-header">
                            <div class="category-icon" style="background: linear-gradient(135deg, #10b981 0%, #6ee7b7 100%);">
                                <i class="fas fa-credit-card"></i>
                            </div>
                            <div class="category-info">
                                <h3>Facturaci√≥n</h3>
                                <span class="article-count"><i class="fas fa-file-alt"></i> 6 art√≠culos</span>
                            </div>
                        </div>
                        <p class="category-description">
                            Planes, precios, facturas y gesti√≥n completa de suscripciones.
                        </p>
                        <div class="category-footer">
                            <span class="view-link">Ver art√≠culos <i class="fas fa-arrow-right"></i></span>
                        </div>
                    </div>

                    <!-- Troubleshooting -->
                    <div class="category-card" style="--card-color-start: #f59e0b; --card-color-end: #fcd34d;" onclick="showCategory('troubleshooting')">
                        <div class="category-header">
                            <div class="category-icon" style="background: linear-gradient(135deg, #f59e0b 0%, #fcd34d 100%);">
                                <i class="fas fa-wrench"></i>
                            </div>
                            <div class="category-info">
                                <h3>Soluci√≥n de Problemas</h3>
                                <span class="article-count"><i class="fas fa-file-alt"></i> 12 art√≠culos</span>
                            </div>
                        </div>
                        <p class="category-description">
                            Gu√≠as de resoluci√≥n para problemas comunes y preguntas frecuentes.
                        </p>
                        <div class="category-footer">
                            <span class="view-link">Ver art√≠culos <i class="fas fa-arrow-right"></i></span>
                        </div>
                    </div>

                    <!-- API -->
                    <div class="category-card" style="--card-color-start: #3b82f6; --card-color-end: #93c5fd;" onclick="showCategory('api')">
                        <div class="category-header">
                            <div class="category-icon" style="background: linear-gradient(135deg, #3b82f6 0%, #93c5fd 100%);">
                                <i class="fas fa-code"></i>
                            </div>
                            <div class="category-info">
                                <h3>API y Desarrollo</h3>
                                <span class="article-count"><i class="fas fa-file-alt"></i> 10 art√≠culos</span>
                            </div>
                        </div>
                        <p class="category-description">
                            Documentaci√≥n t√©cnica para integraciones y uso avanzado de la API.
                        </p>
                        <div class="category-footer">
                            <span class="view-link">Ver art√≠culos <i class="fas fa-arrow-right"></i></span>
                        </div>
                    </div>

                    <!-- Admin -->
                    <div class="category-card" style="--card-color-start: #ec4899; --card-color-end: #f472b6;" onclick="showCategory('admin')">
                        <div class="category-header">
                            <div class="category-icon" style="background: linear-gradient(135deg, #ec4899 0%, #f472b6 100%);">
                                <i class="fas fa-cog"></i>
                            </div>
                            <div class="category-info">
                                <h3>Administraci√≥n</h3>
                                <span class="article-count"><i class="fas fa-file-alt"></i> 9 art√≠culos</span>
                            </div>
                        </div>
                        <p class="category-description">
                            Configuraci√≥n del sistema, gesti√≥n de usuarios, roles y permisos.
                        </p>
                        <div class="category-footer">
                            <span class="view-link">Ver art√≠culos <i class="fas fa-arrow-right"></i></span>
                        </div>
                    </div>
                </div>

                <!-- Recent Articles -->
                <div class="articles-section">
                    <div class="articles-header">
                        <h3><i class="fas fa-clock"></i> Art√≠culos Recientes</h3>
                        <button class="btn-ghost" onclick="showCategory('all')">Ver todos <i class="fas fa-arrow-right"></i></button>
                    </div>
                    <div class="articles-list">
                        <a href="javascript:void(0)" class="article-item" onclick="openArticle('motorsync-fleets')">
                            <div class="article-icon">
                                <i class="fas fa-file-alt"></i>
                            </div>
                            <div class="article-content">
                                <h4>C√≥mo configurar MotorSync para flotas</h4>
                                <p>Gu√≠a paso a paso para la configuraci√≥n inicial de MotorSync en empresas con m√∫ltiples veh√≠culos...</p>
                            </div>
                            <div class="article-meta">
                                <div class="updated">Actualizado</div>
                                <div class="time">hace 2 d√≠as</div>
                                <span class="category-tag">MotorSync</span>
                            </div>
                        </a>
                        <a href="javascript:void(0)" class="article-item" onclick="openArticle('timesync-payroll')">
                            <div class="article-icon">
                                <i class="fas fa-file-alt"></i>
                            </div>
                            <div class="article-content">
                                <h4>Gu√≠a de integraci√≥n con sistemas de n√≥mina</h4>
                                <p>C√≥mo conectar TimeSync con plataformas externas de n√≥mina para automatizar procesos...</p>
                            </div>
                            <div class="article-meta">
                                <div class="updated">Actualizado</div>
                                <div class="time">hace 3 d√≠as</div>
                                <span class="category-tag">TimeSync</span>
                            </div>
                        </a>
                        <a href="javascript:void(0)" class="article-item" onclick="openArticle('billing-faq')">
                            <div class="article-icon">
                                <i class="fas fa-file-alt"></i>
                            </div>
                            <div class="article-content">
                                <h4>FAQ: Preguntas frecuentes de facturaci√≥n</h4>
                                <p>Respuestas a las preguntas m√°s comunes sobre planes, cobros y renovaciones...</p>
                            </div>
                            <div class="article-meta">
                                <div class="updated">Actualizado</div>
                                <div class="time">hace 5 d√≠as</div>
                                <span class="category-tag">Facturaci√≥n</span>
                            </div>
                        </a>
                        <a href="javascript:void(0)" class="article-item" onclick="openArticle('sync-errors')">
                            <div class="article-icon">
                                <i class="fas fa-file-alt"></i>
                            </div>
                            <div class="article-content">
                                <h4>Soluci√≥n: Errores de sincronizaci√≥n de datos</h4>
                                <p>Pasos detallados para resolver problemas de sincronizaci√≥n entre m√≥dulos del sistema...</p>
                            </div>
                            <div class="article-meta">
                                <div class="updated">Actualizado</div>
                                <div class="time">hace 1 semana</div>
                                <span class="category-tag">Troubleshooting</span>
                            </div>
                        </a>
                    </div>
                </div>
                </div>

                <!-- Category Detail View -->
                <div class="category-detail" id="categoryDetail">
                    <button class="back-btn" onclick="hideCategory()">
                        <i class="fas fa-arrow-left"></i> Volver a categor√≠as
                    </button>
                    <div class="category-detail-header" id="categoryHeader">
                        <div class="icon-large"><i class="fas fa-rocket"></i></div>
                        <div class="info">
                            <h2 id="categoryTitle">Primeros Pasos</h2>
                            <p id="categorySubtitle">8 art√≠culos disponibles</p>
                        </div>
                    </div>
                    <div class="articles-grid" id="articlesList"></div>
                </div>
            </div>
        </main>
    </div>

    <!-- Article Modal -->
    <div class="article-modal" id="articleModal" onclick="if(event.target === this) closeModal()">
        <div class="modal-content">
            <div class="modal-header">
                <button class="modal-close" onclick="closeModal()"><i class="fas fa-times"></i></button>
                <h2 id="modalTitle">T√≠tulo del Art√≠culo</h2>
                <div class="meta-row">
                    <span><i class="fas fa-folder"></i> <span id="modalCategory">Categor√≠a</span></span>
                    <span><i class="fas fa-clock"></i> <span id="modalDate">Actualizado hace 2 d√≠as</span></span>
                    <span><i class="fas fa-eye"></i> <span id="modalViews">1,234 vistas</span></span>
                </div>
            </div>
            <div class="modal-body" id="modalBody"></div>
            <div class="modal-footer">
                <div class="helpful">
                    <span>¬øTe fue √∫til?</span>
                    <button onclick="markHelpful(true)"><i class="fas fa-thumbs-up"></i> S√≠</button>
                    <button onclick="markHelpful(false)"><i class="fas fa-thumbs-down"></i> No</button>
                </div>
                <a href="#" class="related-link" onclick="closeModal(); return false;">Ver art√≠culos relacionados <i class="fas fa-arrow-right"></i></a>
            </div>
        </div>
    </div>

    <script src="../js/sidebar.js"></script>
    <script src="../js/supabase-loader.js"></script>
<script src="../js/data.js"></script>
    <script>
        // Knowledge Base Data
        const categories = {
            'getting-started': { title: 'Primeros Pasos', icon: 'fa-rocket', colorStart: '#02735E', colorEnd: '#10b981' },
            'products': { title: 'Productos', icon: 'fa-box', colorStart: '#8b5cf6', colorEnd: '#a78bfa' },
            'billing': { title: 'Facturaci√≥n', icon: 'fa-credit-card', colorStart: '#10b981', colorEnd: '#6ee7b7' },
            'troubleshooting': { title: 'Soluci√≥n de Problemas', icon: 'fa-wrench', colorStart: '#f59e0b', colorEnd: '#fcd34d' },
            'api': { title: 'API y Desarrollo', icon: 'fa-code', colorStart: '#3b82f6', colorEnd: '#93c5fd' },
            'admin': { title: 'Administraci√≥n', icon: 'fa-cog', colorStart: '#ec4899', colorEnd: '#f472b6' }
        };

        const articles = [
            // Getting Started
            { id: 'welcome', category: 'getting-started', title: 'Bienvenido a Opsis Suite', desc: 'Conoce las principales funcionalidades de la plataforma y c√≥mo empezar.', date: 'hace 1 d√≠a', views: 2845 },
            { id: 'first-setup', category: 'getting-started', title: 'Configuraci√≥n inicial de tu empresa', desc: 'Pasos para configurar tu organizaci√≥n, logo, y datos b√°sicos.', date: 'hace 3 d√≠as', views: 1923 },
            { id: 'invite-team', category: 'getting-started', title: 'C√≥mo invitar a tu equipo', desc: 'Agrega usuarios, asigna roles y gestiona permisos desde el inicio.', date: 'hace 5 d√≠as', views: 1654 },
            { id: 'dashboard-tour', category: 'getting-started', title: 'Tour por el Dashboard', desc: 'Explora el panel de control y entiende cada secci√≥n del sistema.', date: 'hace 1 semana', views: 3201 },
            { id: 'quick-start-motorsync', category: 'getting-started', title: 'Inicio r√°pido con MotorSync', desc: 'Configura tu primer veh√≠culo y empieza a trackear en minutos.', date: 'hace 1 semana', views: 2156 },
            { id: 'quick-start-timesync', category: 'getting-started', title: 'Inicio r√°pido con TimeSync', desc: 'Crea tu primer proyecto y asigna empleados inmediatamente.', date: 'hace 2 semanas', views: 1876 },
            { id: 'mobile-app', category: 'getting-started', title: 'Instalaci√≥n de la app m√≥vil', desc: 'Descarga y configura la aplicaci√≥n en iOS y Android.', date: 'hace 2 semanas', views: 987 },
            { id: 'best-practices', category: 'getting-started', title: 'Mejores pr√°cticas para empezar', desc: 'Consejos de empresas exitosas para maximizar el uso de Opsis.', date: 'hace 3 semanas', views: 1432 },
            // Products
            { id: 'motorsync-overview', category: 'products', title: 'MotorSync: Visi√≥n General', desc: 'Todo lo que necesitas saber sobre la gesti√≥n de flotas vehiculares.', date: 'hace 2 d√≠as', views: 4521 },
            { id: 'motorsync-fleets', category: 'products', title: 'C√≥mo configurar MotorSync para flotas', desc: 'Gu√≠a paso a paso para configurar m√∫ltiples veh√≠culos.', date: 'hace 2 d√≠as', views: 3456 },
            { id: 'motorsync-maintenance', category: 'products', title: 'Gesti√≥n de mantenimientos en MotorSync', desc: 'Programa y da seguimiento a mantenimientos preventivos.', date: 'hace 4 d√≠as', views: 2134 },
            { id: 'motorsync-reports', category: 'products', title: 'Reportes y an√°lisis en MotorSync', desc: 'Crea reportes personalizados de tu flota vehicular.', date: 'hace 1 semana', views: 1876 },
            { id: 'timesync-overview', category: 'products', title: 'TimeSync: Visi√≥n General', desc: 'Control de tiempo y asistencia para equipos de trabajo.', date: 'hace 3 d√≠as', views: 3987 },
            { id: 'timesync-payroll', category: 'products', title: 'Integraci√≥n con sistemas de n√≥mina', desc: 'Conecta TimeSync con tu plataforma de n√≥mina favorita.', date: 'hace 3 d√≠as', views: 2654 },
            { id: 'timesync-schedules', category: 'products', title: 'Gesti√≥n de horarios y turnos', desc: 'Crea y administra horarios para tu equipo.', date: 'hace 1 semana', views: 1987 },
            { id: 'timesync-geofencing', category: 'products', title: 'Geofencing y check-in por ubicaci√≥n', desc: 'Configura zonas para registro autom√°tico de asistencia.', date: 'hace 2 semanas', views: 1543 },
            { id: 'warehouse-overview', category: 'products', title: 'Warehouse: Gesti√≥n de Inventario', desc: 'Control completo de inventarios y almacenes.', date: 'hace 1 semana', views: 2345 },
            { id: 'warehouse-tracking', category: 'products', title: 'Tracking de equipos y activos', desc: 'Rastrea la ubicaci√≥n y estado de tus activos.', date: 'hace 2 semanas', views: 1234 },
            // Billing
            { id: 'plans-comparison', category: 'billing', title: 'Comparaci√≥n de planes', desc: 'Encuentra el plan perfecto para tu empresa.', date: 'hace 1 d√≠a', views: 5432 },
            { id: 'billing-faq', category: 'billing', title: 'FAQ: Preguntas frecuentes de facturaci√≥n', desc: 'Respuestas a las preguntas m√°s comunes sobre pagos.', date: 'hace 5 d√≠as', views: 3210 },
            { id: 'payment-methods', category: 'billing', title: 'M√©todos de pago aceptados', desc: 'Tarjetas, transferencias y otros m√©todos disponibles.', date: 'hace 1 semana', views: 1987 },
            { id: 'invoices', category: 'billing', title: 'C√≥mo descargar tus facturas', desc: 'Accede al historial de facturas y descarga PDFs.', date: 'hace 2 semanas', views: 1543 },
            { id: 'upgrade-plan', category: 'billing', title: 'C√≥mo actualizar tu plan', desc: 'Pasos para cambiar a un plan superior.', date: 'hace 2 semanas', views: 876 },
            { id: 'cancel-subscription', category: 'billing', title: 'Cancelaci√≥n de suscripci√≥n', desc: 'Proceso y pol√≠ticas de cancelaci√≥n.', date: 'hace 3 semanas', views: 654 },
            // Troubleshooting
            { id: 'sync-errors', category: 'troubleshooting', title: 'Errores de sincronizaci√≥n de datos', desc: 'Soluciona problemas de sincronizaci√≥n entre m√≥dulos.', date: 'hace 1 semana', views: 4567 },
            { id: 'login-issues', category: 'troubleshooting', title: 'Problemas de inicio de sesi√≥n', desc: 'No puedes acceder? Aqu√≠ est√°n las soluciones.', date: 'hace 3 d√≠as', views: 3456 },
            { id: 'slow-performance', category: 'troubleshooting', title: 'Rendimiento lento del sistema', desc: 'Optimiza la velocidad de carga y respuesta.', date: 'hace 5 d√≠as', views: 2345 },
            { id: 'gps-issues', category: 'troubleshooting', title: 'Problemas con GPS en MotorSync', desc: 'Soluciona errores de ubicaci√≥n y tracking.', date: 'hace 1 semana', views: 1987 },
            { id: 'notification-issues', category: 'troubleshooting', title: 'Notificaciones no llegan', desc: 'Configura correctamente las alertas y notificaciones.', date: 'hace 2 semanas', views: 1234 },
            { id: 'export-errors', category: 'troubleshooting', title: 'Errores al exportar reportes', desc: 'Soluciona problemas con exportaci√≥n de datos.', date: 'hace 2 semanas', views: 876 },
            { id: 'browser-compatibility', category: 'troubleshooting', title: 'Compatibilidad con navegadores', desc: 'Navegadores soportados y configuraci√≥n recomendada.', date: 'hace 3 semanas', views: 765 },
            { id: 'mobile-app-errors', category: 'troubleshooting', title: 'Errores en la app m√≥vil', desc: 'Soluciona crashes y problemas en Android/iOS.', date: 'hace 3 semanas', views: 654 },
            // API
            { id: 'api-overview', category: 'api', title: 'Introducci√≥n a la API de Opsis', desc: 'Conceptos b√°sicos y primeros pasos con la API REST.', date: 'hace 2 d√≠as', views: 2345 },
            { id: 'api-authentication', category: 'api', title: 'Autenticaci√≥n y tokens', desc: 'C√≥mo autenticarte y gestionar tokens de acceso.', date: 'hace 3 d√≠as', views: 1987 },
            { id: 'api-endpoints', category: 'api', title: 'Referencia de endpoints', desc: 'Listado completo de endpoints disponibles.', date: 'hace 1 semana', views: 3456 },
            { id: 'api-webhooks', category: 'api', title: 'Configuraci√≥n de Webhooks', desc: 'Recibe notificaciones en tiempo real.', date: 'hace 1 semana', views: 1543 },
            { id: 'api-rate-limits', category: 'api', title: 'L√≠mites de la API', desc: 'Rate limits y mejores pr√°cticas.', date: 'hace 2 semanas', views: 876 },
            { id: 'api-errors', category: 'api', title: 'Manejo de errores', desc: 'C√≥digos de error y c√≥mo manejarlos.', date: 'hace 2 semanas', views: 654 },
            { id: 'api-examples', category: 'api', title: 'Ejemplos de integraci√≥n', desc: 'C√≥digo de ejemplo en varios lenguajes.', date: 'hace 3 semanas', views: 2134 },
            { id: 'api-sdks', category: 'api', title: 'SDKs oficiales', desc: 'Librer√≠as para Node.js, Python, PHP y m√°s.', date: 'hace 3 semanas', views: 987 },
            // Admin
            { id: 'user-management', category: 'admin', title: 'Gesti√≥n de usuarios', desc: 'Crea, edita y elimina usuarios del sistema.', date: 'hace 1 d√≠a', views: 3456 },
            { id: 'roles-permissions', category: 'admin', title: 'Roles y permisos', desc: 'Configura roles personalizados y sus permisos.', date: 'hace 2 d√≠as', views: 2987 },
            { id: 'company-settings', category: 'admin', title: 'Configuraci√≥n de empresa', desc: 'Personaliza logo, colores y datos de tu organizaci√≥n.', date: 'hace 1 semana', views: 1876 },
            { id: 'security-settings', category: 'admin', title: 'Configuraci√≥n de seguridad', desc: '2FA, pol√≠ticas de contrase√±as y m√°s.', date: 'hace 1 semana', views: 1543 },
            { id: 'audit-logs', category: 'admin', title: 'Registros de auditor√≠a', desc: 'Monitorea todas las acciones del sistema.', date: 'hace 2 semanas', views: 987 },
            { id: 'integrations-admin', category: 'admin', title: 'Administrar integraciones', desc: 'Conecta y gestiona apps de terceros.', date: 'hace 2 semanas', views: 765 },
            { id: 'backup-restore', category: 'admin', title: 'Respaldo y restauraci√≥n', desc: 'Configura backups autom√°ticos de tus datos.', date: 'hace 3 semanas', views: 654 },
            { id: 'white-label', category: 'admin', title: 'White Label y personalizaci√≥n', desc: 'Marca blanca para resellers y partners.', date: 'hace 1 mes', views: 543 }
        ];

        const articleContents = {
            'welcome': `<h3>Bienvenido a Opsis Suite</h3><p>Opsis Suite es una plataforma integral dise√±ada para optimizar las operaciones de tu empresa. Ya sea que necesites gestionar flotas vehiculares, control de tiempo de empleados, o inventarios, tenemos la soluci√≥n perfecta para ti.</p><h3>¬øQu√© incluye Opsis Suite?</h3><ul><li><strong>MotorSync:</strong> Gesti√≥n completa de flotas vehiculares con GPS en tiempo real</li><li><strong>TimeSync:</strong> Control de tiempo y asistencia con geofencing</li><li><strong>Warehouse:</strong> Gesti√≥n de inventarios y activos</li><li><strong>Dashboard Unificado:</strong> Visualiza todas tus operaciones en un solo lugar</li></ul><div class="tip-box"><strong>üí° Consejo:</strong> Empieza configurando tu empresa y luego invita a tu equipo para maximizar la colaboraci√≥n.</div><h3>Pr√≥ximos pasos</h3><ol><li>Completa la configuraci√≥n de tu empresa</li><li>Invita a los miembros de tu equipo</li><li>Activa los m√≥dulos que necesitas</li><li>Explora el dashboard y personal√≠zalo</li></ol>`,
            'motorsync-fleets': `<h3>Configuraci√≥n de flotas en MotorSync</h3><p>Esta gu√≠a te llevar√° paso a paso para configurar MotorSync para gestionar m√∫ltiples veh√≠culos de manera eficiente.</p><h3>Requisitos previos</h3><ul><li>Cuenta activa de Opsis Suite con plan Business o superior</li><li>Dispositivos GPS compatibles instalados en los veh√≠culos</li><li>Acceso de administrador al sistema</li></ul><h3>Paso 1: Crear tu primera flota</h3><p>Navega a MotorSync ‚Üí Flotas ‚Üí Nueva Flota. Ingresa el nombre de la flota y asigna un responsable.</p><div class="code-block">// Ejemplo de estructura de flota\n{\n  "name": "Flota Norte",\n  "manager": "usuario@empresa.com",\n  "vehicles": []\n}</div><h3>Paso 2: Agregar veh√≠culos</h3><p>Para cada veh√≠culo necesitar√°s:</p><ul><li>Placa o identificador √∫nico</li><li>Marca, modelo y a√±o</li><li>ID del dispositivo GPS</li><li>Conductor asignado (opcional)</li></ul><div class="tip-box"><strong>üí° Consejo:</strong> Puedes importar veh√≠culos masivamente usando un archivo CSV. Descarga la plantilla desde la secci√≥n de importaci√≥n.</div>`,
            'timesync-payroll': `<h3>Integraci√≥n con Sistemas de N√≥mina</h3><p>TimeSync se integra con las principales plataformas de n√≥mina para automatizar el proceso de pago a tus empleados.</p><h3>Plataformas soportadas</h3><ul><li>ADP Workforce</li><li>Gusto</li><li>QuickBooks Payroll</li><li>Paychex</li><li>Otras v√≠a API personalizada</li></ul><h3>Configuraci√≥n paso a paso</h3><ol><li>Ve a Configuraci√≥n ‚Üí Integraciones ‚Üí N√≥mina</li><li>Selecciona tu proveedor de n√≥mina</li><li>Autoriza la conexi√≥n con tus credenciales</li><li>Mapea los campos de empleados</li><li>Configura la frecuencia de sincronizaci√≥n</li></ol><div class="tip-box"><strong>‚ö†Ô∏è Importante:</strong> Verifica que los c√≥digos de empleado coincidan en ambos sistemas antes de la primera sincronizaci√≥n.</div>`,
            'billing-faq': `<h3>Preguntas Frecuentes de Facturaci√≥n</h3><h3>¬øCu√°ndo se realiza el cobro?</h3><p>Los cobros se realizan autom√°ticamente el d√≠a de inicio de tu ciclo de facturaci√≥n. Recibir√°s un correo de confirmaci√≥n con tu factura.</p><h3>¬øPuedo cambiar mi plan en cualquier momento?</h3><p>S√≠, puedes actualizar o degradar tu plan cuando quieras. Los cambios se aplican inmediatamente y se ajusta el cobro de forma prorrateada.</p><h3>¬øQu√© m√©todos de pago aceptan?</h3><ul><li>Tarjetas de cr√©dito (Visa, MasterCard, American Express)</li><li>Tarjetas de d√©bito</li><li>Transferencia bancaria (planes Enterprise)</li><li>PayPal</li></ul><h3>¬øC√≥mo cancelo mi suscripci√≥n?</h3><p>Puedes cancelar desde Configuraci√≥n ‚Üí Facturaci√≥n ‚Üí Cancelar suscripci√≥n. Tu acceso permanecer√° activo hasta el final del per√≠odo pagado.</p><div class="tip-box"><strong>üí° Consejo:</strong> Antes de cancelar, considera pausar tu cuenta. Mantenemos tus datos por 90 d√≠as sin costo.</div>`,
            'sync-errors': `<h3>Soluci√≥n de Errores de Sincronizaci√≥n</h3><p>Los errores de sincronizaci√≥n pueden ocurrir por varias razones. Sigue esta gu√≠a para identificar y resolver el problema.</p><h3>Causas comunes</h3><ul><li>Conexi√≥n a internet inestable</li><li>Sesi√≥n expirada</li><li>Conflictos de datos entre dispositivos</li><li>L√≠mite de almacenamiento alcanzado</li></ul><h3>Pasos para solucionar</h3><ol><li><strong>Verifica tu conexi√≥n:</strong> Aseg√∫rate de tener internet estable</li><li><strong>Cierra sesi√≥n y vuelve a entrar:</strong> Esto renueva tu token de autenticaci√≥n</li><li><strong>Limpia el cach√©:</strong> Ve a Configuraci√≥n ‚Üí Avanzado ‚Üí Limpiar cach√©</li><li><strong>Fuerza sincronizaci√≥n:</strong> Usa el bot√≥n "Sincronizar ahora" en el dashboard</li></ol><div class="tip-box"><strong>¬øSigue sin funcionar?</strong> Contacta a soporte con el c√≥digo de error y una captura de pantalla.</div>`
        };

        // Functions
        function showCategory(categoryId) {
            const mainView = document.getElementById('mainView');
            const categoryDetail = document.getElementById('categoryDetail');
            const categoryHeader = document.getElementById('categoryHeader');
            const articlesList = document.getElementById('articlesList');

            let cat, catArticles;
            if (categoryId === 'all') {
                cat = { title: 'Todos los Art√≠culos', icon: 'fa-file-alt', colorStart: '#022326', colorEnd: '#02735E' };
                catArticles = articles;
            } else {
                cat = categories[categoryId];
                catArticles = articles.filter(a => a.category === categoryId);
            }

            categoryHeader.style.setProperty('--cat-color-start', cat.colorStart);
            categoryHeader.style.setProperty('--cat-color-end', cat.colorEnd);
            categoryHeader.innerHTML = `
                <div class="icon-large"><i class="fas ${cat.icon}"></i></div>
                <div class="info">
                    <h2>${cat.title}</h2>
                    <p>${catArticles.length} art√≠culos disponibles</p>
                </div>
            `;
            renderArticles(catArticles, articlesList);
            mainView.classList.add('hidden');
            categoryDetail.classList.add('active');
        }

        function hideCategory() {
            document.getElementById('mainView').classList.remove('hidden');
            document.getElementById('categoryDetail').classList.remove('active');
        }

        function renderArticles(arts, container) {
            container.innerHTML = arts.map(a => `
                <div class="article-card" onclick="openArticle('${a.id}')">
                    <div class="art-icon"><i class="fas fa-file-alt"></i></div>
                    <div class="art-content">
                        <h4>${a.title}</h4>
                        <p>${a.desc}</p>
                        <div class="art-meta">
                            <span><i class="fas fa-clock"></i> ${a.date}</span>
                            <span><i class="fas fa-eye"></i> ${a.views.toLocaleString()} vistas</span>
                        </div>
                    </div>
                    <div class="read-more">Leer <i class="fas fa-arrow-right"></i></div>
                </div>
            `).join('');
        }

        function openArticle(articleId) {
            const article = articles.find(a => a.id === articleId);
            if (!article) return;
            const category = categories[article.category];
            const content = articleContents[articleId];

            document.getElementById('modalTitle').textContent = article.title;
            document.getElementById('modalCategory').textContent = category.title;
            document.getElementById('modalDate').textContent = 'Actualizado ' + article.date;
            document.getElementById('modalViews').textContent = article.views.toLocaleString() + ' vistas';
            document.getElementById('modalBody').innerHTML = content || `<h3>${article.title}</h3><p>${article.desc}</p><p>Este art√≠culo est√° siendo actualizado. Por favor, contacta a soporte si necesitas ayuda inmediata.</p><div class="tip-box"><strong>üí° Consejo:</strong> Mientras tanto, puedes explorar otros art√≠culos de la categor√≠a ${category.title}.</div>`;

            document.getElementById('articleModal').classList.add('active');
            document.body.style.overflow = 'hidden';
        }

        function closeModal() {
            document.getElementById('articleModal').classList.remove('active');
            document.body.style.overflow = '';
        }

        function searchArticles(query) {
            const searchResults = document.getElementById('searchResults');
            const searchResultsList = document.getElementById('searchResultsList');
            const mainView = document.getElementById('mainView');

            if (query.length < 2) {
                searchResults.classList.remove('active');
                mainView.classList.remove('hidden');
                return;
            }

            const results = articles.filter(a => 
                a.title.toLowerCase().includes(query.toLowerCase()) ||
                a.desc.toLowerCase().includes(query.toLowerCase())
            );

            mainView.classList.add('hidden');
            searchResults.classList.add('active');

            if (results.length === 0) {
                searchResultsList.innerHTML = `<div class="no-results"><i class="fas fa-search"></i><h3>No se encontraron resultados</h3><p>Intenta con otras palabras clave</p></div>`;
            } else {
                renderArticles(results, searchResultsList);
            }
        }

        function clearSearch() {
            document.getElementById('searchInput').value = '';
            document.getElementById('searchResults').classList.remove('active');
            document.getElementById('mainView').classList.remove('hidden');
        }

        function markHelpful(isHelpful) {
            alert(isHelpful ? '¬°Gracias por tu feedback! üëç' : 'Gracias. Trabajaremos para mejorar este art√≠culo.');
        }

        document.addEventListener('keydown', (e) => { if (e.key === 'Escape') closeModal(); });
    </script>
</body>
</html>
